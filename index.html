<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mobile Ticket</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<header id="mainHeader">
  <img src="https://github.com/ZaneAP/GoFan/blob/main/IMG_2351.jpeg?raw=true" alt="Header" class="header-image">
</header>

<main id="mainContent">
  <div class="upload-container" id="uploadContainer" onclick="document.getElementById('fileInput').click()">
    <label class="placeholder">Tap to upload your image</label>
    <input type="file" id="fileInput" accept="image/*" onchange="previewImage(event)">
  </div>

  <div class="scroll-container" id="scrollContainer">
    <img src="https://github.com/ZaneAP/GoFan/blob/main/IMG_2349.jpeg?raw=true" class="overlay" alt="Overlay Image">
  </div>
</main>

<footer id="mainFooter">
  <button id="useTicketButton">Use 1 ticket</button>
</footer>

<!-- Scrollable full-screen section (now includes header) -->
<section id="ticketSection" class="ticket-section" style="display: none;">
  <div class="scroll-container">
    <img src="https://github.com/ZaneAP/GoFan/blob/main/IMG_2353%20(1).jpeg?raw=true" alt="Ticket Image" id="ticketImage" class="ticket-img">
  </div>
</section>

<script>
  // Handle image upload
  function previewImage(event) {
    const file = event.target.files[0];
    if (!file) return;

    const uploadContainer = document.getElementById('uploadContainer');
    uploadContainer.style.display = 'none'; // FIXED: remove from layout completely

    const scrollContainer = document.getElementById('scrollContainer');
    const uploaded = new Image();
    uploaded.src = URL.createObjectURL(file);
    uploaded.classList.add('uploaded');
    scrollContainer.appendChild(uploaded);
  }

  // When user presses "Use 1 ticket"
  document.getElementById('useTicketButton').addEventListener('click', () => {
    // Hide main content and footer
    document.getElementById('mainContent').style.display = 'none';
    document.getElementById('mainFooter').style.display = 'none';

    // Show the scrollable ticket section
    document.getElementById('ticketSection').style.display = 'flex';
  });

  // When user taps anywhere on the ticket image
  document.getElementById('ticketSection').addEventListener('click', () => {
    const ticketSection = document.getElementById('ticketSection');
    ticketSection.style.display = 'none';

    // Keep header
    const header = document.getElementById('mainHeader');
    header.style.display = 'block';
    header.querySelector('img').src = "https://github.com/ZaneAP/GoFan/blob/main/IMG_2351.jpeg?raw=true";

    // Replace main area with centered new image
    const main = document.getElementById('mainContent');
    main.style.display = 'flex';
    main.innerHTML = `
      <div class="centered-container">
        <img src="https://github.com/ZaneAP/GoFan/blob/main/1-e459d354.jpeg?raw=true" alt="Centered Image">
      </div>
    `;
  });
</script>

</body>
</html>
